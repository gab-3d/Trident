

##################
#### Hardware ####
##################
[include Hardware/kinematics.cfg]
[include Hardware/hardware.cfg]
[include Hardware/leds.cfg]
[include Hardware/mcu.cfg]
[include Hardware/Axis/Z_Steppers.cfg]
[include Hardware/Axis/XY_Steppers.cfg]
[include Hardware/Axis/E_Stepper.cfg]
[include Hardware/sb_leds.cfg]
[include Hardware/sensorless.cfg]

################
#### Macros ####
################
[include Macros/nozzle_scrub.cfg]
[include Macros/printer_macros.cfg]
[include Macros/base_macros.cfg]
[include Macros/shellCommands.cfg]

[include Macros/Helpers/filament_swap.cfg]
[include Macros/Calibration/calibration.cfg]
[include Macros/Calibration/pa_calibrate.cfg]
[include Macros/shelly.cfg]

[include Macros/LEDS/case_leds.cfg]
[include Macros/LEDS/sb_case_leds.cfg]
[include Macros/LEDS/sb_leds_macros.cfg]
[include Macros/mainsail.cfg]

[include Macros/Mesh/Adaptive_Mesh.cfg]
[include Macros/Mesh/Adaptive_Purge.cfg]

################
#### Probe ####
################
[probe]
pin: EBBCan: PC13
## For Octopus Pro Probe port; NPN and PNP proximity switch types can be set by jumper
#pin: ~!PC5

#--------------------------------------------------------------------

x_offset: 0
y_offset: 0
#z_offset: 0

speed: 21
samples:3 
samples_result: median
sample_retract_dist: 2.0
samples_tolerance: 0.01
samples_tolerance_retries: 10
# activate_gcode:
#     {% set PROBE_TEMP = 150 %}
#     {% set MAX_TEMP = PROBE_TEMP + 5 %}
#     {% set ACTUAL_TEMP = printer.extruder.temperature %}
#     {% set TARGET_TEMP = printer.extruder.target %}

#     {% if TARGET_TEMP > PROBE_TEMP %}
#         { action_respond_info('Extruder temperature target of %.1fC is too high, lowering to %.1fC' % (TARGET_TEMP, PROBE_TEMP)) }
#         M109 S{ PROBE_TEMP }
#     {% else %}
#         # Temperature target is already low enough, but nozzle may still be too hot.
#         {% if ACTUAL_TEMP > MAX_TEMP %}
#             { action_respond_info('Extruder temperature %.1fC is still too high, waiting until below %.1fC' % (ACTUAL_TEMP, MAX_TEMP)) }
#             TEMPERATURE_WAIT SENSOR=extruder MAXIMUM={ MAX_TEMP }
#         {% endif %}
#     {% endif %}
[include Hardware/Probe/Probe.cfg]

################
#### ERCF   ####
################
#[include ERCF/ercf.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh hot]
#*# version = 1
#*# points =
#*# 	0.114375, 0.073750, 0.015625, -0.008125, 0.026875
#*# 	0.095000, 0.063750, 0.007500, -0.026250, -0.056875
#*# 	0.131250, 0.093750, 0.006250, 0.000000, -0.024375
#*# 	0.136250, 0.100000, 0.065000, 0.023125, -0.009375
#*# 	0.143125, 0.110625, 0.103750, 0.051875, 0.115625
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = 40.0
#*# x_count = 5
#*# max_y = 220.0
#*# mesh_x_pps = 2
#*# max_x = 220.0
#*#
#*# [bed_mesh hot2]
#*# version = 1
#*# points =
#*# 	0.043125, 0.026250, 0.002500, -0.013750, 0.003750
#*# 	0.016250, 0.039375, 0.001875, 0.021875, -0.005625
#*# 	0.047500, 0.031250, 0.021875, 0.000000, -0.001250
#*# 	0.060000, 0.040625, 0.038750, 0.017500, 0.017500
#*# 	0.057500, 0.051875, 0.062500, 0.041250, 0.055000
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = 40.0
#*# x_count = 5
#*# max_y = 220.0
#*# mesh_x_pps = 2
#*# max_x = 220.0
#*#
#*# [probe]
#*# z_offset = -0.600
#*#
#*# [bed_mesh Freddo]
#*# version = 1
#*# points =
#*# 	0.065313, 0.070625, 0.059375, -0.004062, 0.059688
#*# 	0.015625, 0.011875, 0.013750, -0.005625, 0.063125
#*# 	0.076250, 0.064063, -0.020625, 0.000000, 0.036250
#*# 	0.064375, 0.090000, 0.047500, 0.019062, 0.049687
#*# 	0.038437, 0.049062, 0.031562, 0.022812, 0.030625
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = 40.0
#*# x_count = 5
#*# max_y = 220.0
#*# mesh_x_pps = 2
#*# max_x = 220.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.077813, 0.084063, 0.039063, 0.022188, 0.080938
#*# 	  0.015625, 0.032813, 0.007813, -0.022500, 0.016563
#*# 	  0.034375, 0.031563, -0.045937, 0.000000, -0.000938
#*# 	  0.010312, 0.029687, 0.016250, -0.015000, 0.001875
#*# 	  -0.030313, 0.005625, -0.045625, -0.050313, -0.025625
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = 40.0
#*# x_count = 5
#*# max_y = 220.0
#*# mesh_x_pps = 2
#*# max_x = 220.0
#*#
#*# [bed_mesh hot3]
#*# version = 1
#*# points =
#*# 	  0.077813, 0.084063, 0.039063, 0.022188, 0.080938
#*# 	  0.015625, 0.032813, 0.007813, -0.022500, 0.016563
#*# 	  0.034375, 0.031563, -0.045937, 0.000000, -0.000938
#*# 	  0.010312, 0.029687, 0.016250, -0.015000, 0.001875
#*# 	  -0.030313, 0.005625, -0.045625, -0.050313, -0.025625
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = 40.0
#*# x_count = 5
#*# max_y = 220.0
#*# mesh_x_pps = 2
#*# max_x = 220.0